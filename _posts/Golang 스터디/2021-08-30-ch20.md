---
title: "[21.08.30] Golang_μ¤ν„°λ”” CH_20"
date: 2021-08-30 15:00:28 -0400
toc: true
toc_sticky: true
categories: Golang_Study
---


# π’­ μΈν„°νμ΄μ¤ 

**μΈν„°νμ΄μ¤<sup>interface</sup>**λ¥Ό μ΄μ©ν•λ©΄ λ©”μ„λ“ κµ¬ν„μ„ ν¬ν•¨ν• κµ¬μ²΄ν™”λ κ°μ²΄<sup>concrete object</sup>κ°€ μ•„λ‹ **<u>μ¶”μƒν™”λ κ°μ²΄</u>λ΅ μƒνΈμ‘μ©**ν•  μ μλ‹¤.

##  1. μΈν„°νμ΄μ¤

### π“ <u>μΈν„°νμ΄μ¤ μ„ μ–Έ</u>

μΈν„°νμ΄μ¤ μ„ μ–Έμ€ `type`μ„ μ“΄ λ’¤ `μΈν„°νμ΄μ¤λ…`μ„ μ“°κ³  `interface` ν‚¤μ›λ“λ¥Ό μ“΄ ν›„, μ¤‘κ΄„νΈ `{ }` λΈ”λ΅ μ•μ— μΈν„°νμ΄μ¤μ— ν¬ν•¨λ λ©”μ„λ“ μ§‘ν•©μ„ μ¨μ£Όλ©΄ λ!        

   ```go
type DuckInterface interface {
	Fly()
	Walk(distance int) int
}
   ```    

<div class="notice--primary" markdown="1">
π <strong><u>μ—¬κΈ°μ„ μ κΉ!</u></strong>       

μ¤‘κ΄„νΈ λΈ”λ΅ μ•, μΈν„°νμ΄μ¤μ— ν¬ν•¨λ λ©”μ„λ“ μ§‘ν•©μ„ μ¨ μ¤„ λ• <strong>μ„Έ κ°€μ§€ μ μ μ‚¬ν•­</strong>μ΄ μλ‹¤.      

1. λ©”μ„λ“λ” λ°λ“μ‹ λ©”μ„λ“ λ…μ΄ μμ–΄μ•Ό ν•λ‹¤.   

2. λ§¤κ°λ³€μμ™€ λ°ν™μ΄ λ‹¤λ¥΄λ”λΌλ„ μ΄λ¦„μ΄ κ°™μ€ λ©”μ„λ“λ” μμ„ μ μ—†λ‹¤.    

3. μΈν„°νμ΄μ¤μ—μ„λ” λ©”μ„λ“ κµ¬ν„μ„ ν¬ν•¨ν•μ§€ μ•λ”λ‹¤.                       
      
</div>

**μΈν„°νμ΄μ¤μ λ©”μ„λ“ μ§‘ν•©μ„ κ°€μ§€λ” νƒ€μ…μ€ ν•΄λ‹Ή μΈν„°νμ΄μ¤λ΅ μ‚¬μ©λ  μ μλ‹¤.**    


##  2. μΈν„°νμ΄μ¤ μ™ μ“°λ‚?

μΈν„°νμ΄μ¤λ” κ°μ²΄ μ§€ν–¥ ν”„λ΅κ·Έλλ°μ—μ„ μ•„μ£Ό μ¤‘μ”ν• μ—­ν• μ„ ν•λ‹¤.       
μΈν„°νμ΄μ¤λ¥Ό μ΄μ©ν•λ©΄ κµ¬μ²΄ν™”λ κ°μ²΄κ°€ μ•„λ‹ **<u>μΈν„°νμ΄μ¤λ§ κ°€μ§€κ³  λ©”μ„λ“λ¥Ό νΈμ¶</u>**ν•  μ μκΈ° λ•λ¬Έμ— **ν° μ½”λ“ μμ • μ—†μ΄ <u>ν•„μ”μ— λ”°λΌ κµ¬μ²΄ν™”λ κ°μ²΄λ¥Ό λ°”κΏ”μ„ μ‚¬μ©ν•  μ μκ² λ¨.</u>**         
μ¦‰, **<u>μ½”λ“λ¥Ό μ μ—°ν•κ² μ‚¬μ©ν•  μ μλ” νΈλ¦¬ν•¨</u>μ„ μΈν„°νμ΄μ¤κ°€ μ κ³µν•λ‹¤**κ³  ν•  μ μλ‹¤.       

### π“ <u>μ¶”μƒν™” κ³„μΈµ</u>

λ‚΄λ¶€ λ™μ‘μ„ κ°μ¶°μ„ μ„λΉ„μ¤λ¥Ό μ κ³µν•λ” μ½κ³Ό μ‚¬μ©ν•λ” μ½ λ¨λ‘μ—κ² μμ λ¥Ό μ£Όλ” λ°©μ‹μ„ μ¶”μƒν™”<sup>abstraction</sup>μ΄λΌκ³  ν•λ‹¤.    
**κµ¬μ²΄ν™”λ νƒ€μ…μΌλ΅ μƒνΈμ‘μ©ν•λ” κ² μ•„λ‹λΌ <u>κ΄€κ³„λ΅ μƒνΈμ‘μ©</u>**ν•λ©°, **<u>κ·Έ κ΄€κ³„λ¥Ό μ •μν• μ¶”μƒν™” κ³„μΈµ</u>μ΄ λ°”λ΅ <u>μΈν„°νμ΄μ¤</u>μΈ κ²ƒ**μ΄λ‹¤.  
 

## 3. λ• νƒ€μ΄ν•‘

Go μ–Έμ–΄μ—μ„λ” **μ–΄λ–¤ νƒ€μ…μ΄ μΈν„°νμ΄μ¤λ¥Ό ν¬ν•¨ν•κ³  μλ”μ§€ μ—¬λ¶€λ¥Ό κ²°μ •**ν•  λ• **λ• νƒ€μ΄ν•‘<sup>duck typing</sup> λ°©μ‹**μ„ μ‚¬μ©ν•λ‹¤.      
**λ• νƒ€μ΄ν•‘ λ°©μ‹**μ΄λ€ **νƒ€μ… μ„ μ–Έ μ‹ μΈν„°νμ΄μ¤ κµ¬ν„ μ—¬λ¶€λ¥Ό λ…μ‹μ μΌλ΅ λ‚νƒ€λ‚Ό ν•„μ” μ—†μ΄ <sup>μΈν„°νμ΄μ¤μ— μ •μν• λ©”μ„λ“ ν¬ν•¨ μ—¬λ¶€λ§μΌλ΅ κ²°μ •</sup>ν•λ” λ°©μ‹**μ΄λ‹¤.         

λ• νƒ€μ΄ν•‘μ μ¥μ μ€ **μ„λΉ„μ¤ μ‚¬μ©μ μ¤‘μ‹¬μ μ½”λ”©μ„ ν•  μ μλ‹¤λ” μ **μ΄λ‹¤.     
λ• νƒ€μ΄ν•‘μ—μ„λ” **μΈν„°νμ΄μ¤ κµ¬ν„ μ—¬λ¶€λ¥Ό νƒ€μ… μ„ μ–Έμ—μ„ ν•λ” κ² μ•„λ‹λΌ μΈν„°νμ΄μ¤κ°€ μ‚¬μ©λ  λ• ν•΄λ‹Ή νƒ€μ…μ΄ μΈν„°νμ΄μ¤μ— μ •μλ λ©”μ„λ“λ¥Ό ν¬ν•¨ν–λ”μ§€ μ—¬λ¶€λ΅ κ²°μ •**ν•λ‹¤.      
λ”°λΌμ„ μ„λΉ„μ¤ μ κ³µμκ°€ **μΈν„°νμ΄μ¤λ¥Ό μ •μν•  ν•„μ” μ—†μ΄ κµ¬μ²΄ν™”λ κ°μ²΄λ§ μ κ³µ**ν•κ³ , μ„λΉ„μ¤ μ΄μ©μκ°€ ν•„μ”μ— λ”°λΌ κ·Έλ• κ·Έλ• μΈν„°νμ΄μ¤λ¥Ό μ •μν•΄μ„ μ‚¬μ©ν•  μ μλ‹¤.    


## 4. μΈν„°νμ΄μ¤ κΈ°λ¥ λ” μ•κΈ°

μΈν„°νμ΄μ¤μ κΈ°λ³Έ κΈ°λ¥ μ™Έ 3κ°€μ§€ λ‹¤λ¥Έ κΈ°λ¥μ„ μ•μ•„λ³΄μ.    

### π“ [1] <u>μΈν„°νμ΄μ¤λ¥Ό ν¬ν•¨ν•λ” μΈν„°νμ΄μ¤</u>

κµ¬μ΅°μ²΄μ—μ„ λ‹¤λ¥Έ κµ¬μ΅°μ²΄λ¥Ό ν¬ν•¨λ ν•„λ“λ΅ κ°€μ§ μ μλ“―μ΄ μΈν„°νμ΄μ¤λ„ λ‹¤λ¥Έ μΈν„°νμ΄μ¤λ¥Ό ν¬ν•¨ν•  μ μλ‹¤.     

μ΄ λ•, ν•΄λ‹Ή λ©”μ„λ“λ¥Ό κ°€μ§€κ³  μλ”μ§€μ μ—¬λ¶€μ— λ”°λΌ μ‚¬μ©ν•  μ μλ” μΈν„°νμ΄μ¤λ„ λ‹¬λΌμ§„λ‹¤.    

### π“ [2] <u>λΉ μΈν„°νμ΄μ¤ interface{ }λ¥Ό μΈμλ΅ λ°›κΈ°</u>

interface{ }λ” λ©”μ„λ“λ¥Ό κ°€μ§€κ³  μμ§€ μ•μ€ λΉ μΈν„°νμ΄μ¤μ΄λ‹¤. κ°€μ§€κ³  μμ–΄μ•Ό ν•  λ©”μ„λ“κ°€ ν•λ‚λ„ μ—†κΈ° λ•λ¬Έμ— λ¨λ“  νƒ€μ…μ΄ λΉ μΈν„°νμ΄μ¤λ΅ μ“°μΌ μ μλ‹¤.   
λΉ μΈν„°νμ΄μ¤λ” μ–΄λ–¤ κ°’μ΄λ“  λ°›μ„ μ μλ” ν•¨μ, λ©”μ„λ“, λ³€μ«κ°’μ„ λ§λ“¤ λ• μ‚¬μ©ν•λ‹¤.        

### π“ [3] <u>μΈν„°νμ΄μ¤ κΈ°λ³Έκ°’ nil</u>

μΈν„°νμ΄μ¤ λ³€μμ κΈ°λ³Έκ°’μ€ μ ν¨ν•μ§€ μ•μ€ λ©”λ¨λ¦¬ μ£Όμ†λ¥Ό λ‚νƒ€λ‚΄λ” nilμ΄λ‹¤.    

μΈν„°νμ΄μ¤μ μ΄κΉƒκ°’μ„ μ§€μ •ν•΄ μ£Όμ§€ μ•μΌλ©΄ κΈ°λ³Έκ°’μΈ nilμ΄ ν• λ‹Ήλμ–΄ λ° νƒ€μ„ μ—λ¬κ°€ λ°μƒν•  μ μλ‹¤.         
λ”°λΌμ„ μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•  λ•λ” ν•­μƒ μΈν„°νμ΄μ¤κ°’μ΄ nilμ΄ μ•„λ‹μ§€ ν™•μΈν•΄μ•Ό ν•λ‹¤.     

<div class="notice--primary" markdown="1">
π <strong><u>μ—¬κΈ°μ„ μ κΉ!</u> : <u>μ»΄νμΌ μ—λ¬μ™€ λ° νƒ€μ„ μ—λ¬</u></strong>       

μ—λ¬λ” ν¬κ² μ»΄νμΌ νƒ€μ„ μ—λ¬μ™€ λ° νƒ€μ„ μ—λ¬λ΅ λ‚λ‰λ”λ°, μ»΄νμΌ νƒ€μ„ μ—λ¬λ” μ£Όλ΅ λ¬Έλ²• μ¤λ¥μ—μ„ λ°μƒν•λ” λ°λ©΄ λ° νƒ€μ„ μ—λ¬λ” λ¬Έλ²•μ—λ” λ¬Έμ κ°€ μ—†μΌλ‚ κ°’μ΄ λΉ„μ •μƒμ μΈ κ²½μ°μ— λ°μƒν•λ‹¤.                            
      
</div>


## 5. μΈν„°νμ΄μ¤ λ³€ν™ν•κΈ°

μΈν„°νμ΄μ¤ λ³€μλ¥Ό νƒ€μ… λ³€ν™μ„ ν†µν•΄μ„ κµ¬μ²΄ν™”λ λ‹¤λ¥Έ νƒ€μ…μ΄λ‚ λ‹¤λ¥Έ μΈν„°νμ΄μ¤λ΅ λ³€ν™ν•  μ μλ‹¤.        

### π“ [1] <u>κµ¬μ²΄ν™”λ λ‹¤λ¥Έ νƒ€μ…μΌλ΅ νƒ€μ… λ³€ν™ν•κΈ°</u>

μΈν„°νμ΄μ¤ λ³€μ λ’¤μ— μ .μ„ μ°κ³  μ†κ΄„νΈ `( )` μ•μ— λ³€κ²½ν•λ ¤λ” νƒ€μ…μ„ μ¨ μ£Όλ©΄ λλ‹¤.       

   ```go
var a Interface
t := a.(ConcreteType)
   ```
μ΄ λ• μΈν„°νμ΄μ¤ λ³€μλ¥Ό κµ¬μ²΄ν™”λ νƒ€μ…μΌλ΅ νƒ€μ… λ³€ν™ν•λ ¤λ©΄ **ν•΄λ‹Ή νƒ€μ…μ΄ μΈν„°νμ΄μ¤ λ©”μ„λ“ μ§‘ν•©μ„ ν¬ν•¨**ν•κ³  μμ–΄μ•Ό ν•λ©°, κ·Έλ ‡μ§€ μ•μ„ κ²½μ° μ»΄νμΌ μ—λ¬κ°€ λ°μƒν•λ‹¤.    

λ, λ³€ν™ν•λ ¤λ” νƒ€μ…μ΄ μΈν„°νμ΄μ¤λ¥Ό μ΄λ―Έ ν¬ν•¨ν•κ³  μλ‹¤κ³  ν•λ”λΌλ„ μ‹¤μ  μΈν„°νμ΄μ¤ λ³€μκ°€ κ°€λ¦¬ν‚¤λ” μΈμ¤ν„΄μ¤κ°€ λ³€ν™ν•λ ¤λ” νƒ€μ…μ΄ μ•„λ‹ κ²½μ°μ—λ” μ»΄νμΌ νƒ€μ„ μ—λ¬κ°€ μ•„λ‹λΌ μ‹¤ν–‰ μ¤‘μ— λ°μƒν•λ” μ—λ¬μΈ λ° νƒ€μ„ μ—λ¬κ°€ λ°μƒν•λ‹¤.      
### π“ [2] <u>λ‹¤λ¥Έ μΈν„°νμ΄μ¤λ΅¤ νƒ€μ… λ³€ν™ν•κΈ°</u>

μΈν„°νμ΄μ¤ λ³€ν™μ„ ν†µν•΄ κµ¬μ²΄ν™”λ νƒ€μ…λΏ μ•„λ‹λΌ λ‹¤λ¥Έ μΈν„°νμ΄μ¤λ΅ νƒ€μ… λ³€ν™ν•  μ μλ‹¤.   
μ΄ λ•λ” κµ¬μ²΄ν™”λ νƒ€μ…μΌλ΅ λ³€ν™ν•  λ•μ™€λ” λ‹¬λ¦¬ λ³€κ²½λλ” μΈν„°νμ΄μ¤κ°€ λ³€κ²½ μ „ μΈν„°νμ΄μ¤λ¥Ό ν¬ν•¨ν•μ§€ μ•μ•„λ„ λλ‹¤.    
κ·Έλ¬λ‚ **<u>μΈν„°νμ΄μ¤κ°€ κ°€λ¦¬ν‚¤κ³  μλ” μ‹¤μ  μΈμ¤ν„΄μ¤κ°€ λ³€ν™ν•κ³ μ ν•λ” λ‹¤λ¥Έ μΈν„°νμ΄μ¤λ¥Ό ν¬ν•¨</u>ν•΄μ•Ό ν•λ‹¤.**            

### π“ [3] <u>νƒ€μ… λ³€ν™ μ„±κ³µ μ—¬λ¶€ λ°ν™</u>

**<u>νƒ€μ… λ³€ν™ λ°ν™κ°’μ„ λ‘ κ° λ³€μ</u>λ΅ λ°›μΌλ©΄ <u>νƒ€μ… λ³€ν™ κ°€λ¥ μ—¬λ¶€λ¥Ό λ‘ λ²μ§Έ λ°ν™κ°’(λ¶λ¦¬μ–Έ νƒ€μ…)μΌλ΅ μ•λ ¤μ£Όκ³ </u>, νƒ€μ… λ³€ν™μ΄ μ„¤λ Ή λ¶κ°€λ¥ν•λ”λΌλ„ λ‘ λ²μ§Έ λ°ν™κ°’μ΄ falseλ΅ λ°ν™λ  λΏ <u>λ° νƒ€μ„ μ—λ¬λ” λ°μƒν•μ§€ μ•λ”λ‹¤</u>.**        

       
# π μ¤λμ ν•µμ‹¬      

<div class="notice--primary" markdown="1">

1. μΈν„°νμ΄μ¤λ” λ©”μ„λ“ μ§‘ν•©μ²΄μ΄λ‹¤.          
  
2. μΈν„°νμ΄μ¤μ—μ„ μ •μν• λ©”μ„λ“ μ§‘ν•©μ„ κ°€μ§„ λ¨λ“  νƒ€μ…μ€ μΈν„°νμ΄μ¤λ΅ μ“°μΌ μ μλ‹¤.            

3. λ• νƒ€μ΄ν•‘μ΄λ€ μΈν„°νμ΄μ¤ κµ¬ν„ μ—¬λ¶€λ¥Ό λ…μ‹μ μΌλ΅ μ„ μ–Έν•λ” κ² μ•„λ‹ μΈν„°νμ΄μ¤μ—μ„ μ •μν• λ©”μ„λ“ ν¬ν•¨ μ—¬λ¶€λ΅ νλ‹¨ν•λ‹¤.              

4. μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•΄ μ¶”μƒν™” κ³„μΈµμ„ λ§λ“¤κ³  κ΄€κ³„λ¥Ό ν†µν• μƒνΈμ‘μ©μ„ μ •μν•λ‹¤.    

5. λ¨λ“  νƒ€μ…μ΄ λΉ μΈν„°νμ΄μ¤ λ³€μ«κ°’μΌλ΅ μ“°μΌ μ μλ‹¤.    

6. μΈν„°νμ΄μ¤ λ³€ν™μ„ μ‚¬μ©ν•λ©΄ μΈν„°νμ΄μ¤ λ³€μλ¥Ό κµ¬μ²΄ν™”λ νƒ€μ…μ΄λ‚ λ‹¤λ¥Έ μΈν„°νμ΄μ¤λ΅ λ³€κ²½ν•  μ μλ‹¤.

</div>

_


# π‘©π»β€π’» κ΄€λ ¨ μ¶”κ°€ κ³Όμ 

## 1λ²
Q) λ‹¤μ μμ μ—μ„ μ»΄νμΌ μ—λ¬κ°€ λ°μƒν•λ” μ΄μ λ¥Ό μ“°μ„Έμ”.     

   ```go
package main

type ReadWriter interface {
	Read()
	Write()
}

type File struct {

}

func (f *File) Read() {

}

func ReadWrite(rw ReadWriter) {
	rw.Read()
	rw.Write()
}

func main() {
	f := &File{}
	ReadWrite(f)
}
   ```   

A) 

File κµ¬μ΅°μ²΄κ°€ Read() λ©”μ„λ“λ§ κ°€μ§€κ³  μμ–΄ ReadWriter μΈν„°νμ΄μ¤λ΅ μ‚¬μ©ν•  μ μ—†λ‹¤.

## 2λ² 

Q) λ‹¤μ ν¨ν‚¤μ§€ OurDB κµ¬μ΅°μ²΄μ λ¨λ“  κ³µκ°λ λ©”μ„λ“λ¥Ό μ΄μ©ν•λ” μΈν„°νμ΄μ¤λ¥Ό λ§λ“¤μ–΄λ³΄μ„Έμ”.            

   ```go
package AwesomeDB

type OurDB struct {
	Name string
}

func (db *OurDB) GetData() string {
	...
}

func (db *OurDB) WriteData(data string) {
	...
}

func (db *OurDB) Close() error {
	...
}
   ```

A) 

   ```go
type DB interface {
	GetData() string
	WriteData(data string)
	Close() error
}
   ```

## 3λ² 

Q) μ–΄λ–¤ κ²½μ°μ—λ„ λ° νƒ€μ„ μ—λ¬κ°€ λ°μƒν•μ§€ μ•λ„λ΅ CheckAndRun() ν•¨μλ¥Ό μμ •ν•μ„Έμ”.                  

   ```go
type Stringer interface {
	String()
}

type Reader interface {
	Read()
}

func CheckAndRun(stringer Stringer) {
	r := stringer.(Reader)
	r.Read()	
}
   ```

A) 

   ```go
type Stringer interface {
	String()
}

type Reader interface {
	Read()
}

func CheckAndRun(stringer Stringer) {
	if r, ok := stringer.(Reader); ok {
		r.Read()
	}	
}
   ```
